{
  "name": "versionpress-dev-workspace",
  "version": "1.0.0",
  "description": "VersionPress development workspace",
  "main": "gulpfile.js",
  "author": "VersionPress",
  "license": "GPL",
  "scripts": {
    "init-dev": "npm-run-all -l -p _config-git _install-* _init-frontend -s _build-frontend _copy-frontend-to-vp",
    "_config-git": "git config core.ignorecase false && git config core.filemode false",
    "_install-ext-libs": "cd ext-libs && composer install --ignore-platform-reqs",
    "_install-versionpress": "cd plugins/versionpress && composer install --ignore-platform-reqs",
    "_install-frontend": "cd frontend && npm i",
    "_init-frontend": "cp -n frontend/src/config/config.local.sample.ts frontend/src/config/config.local.ts || true",
    "init-phpstorm": "npm-run-all -p _phpstorm-*",
    "_phpstorm-plugin": "cp -rn .ide-tpl/.idea-versionpress/. plugins/versionpress/.idea || true",
    "_phpstorm-frontend": "cp -rn .ide-tpl/.idea-frontend/. frontend/.idea || true",
    "build": "npm-run-all -s _clean-tmp-build-dir _build-frontend _copy-frontend-to-vp",
    "_clean-tmp-build-dir": "rm -rf dist/tmp",
    "_build-frontend": "cd frontend && npm run build",
    "_copy-frontend-to-vp": "cp -rn frontend/build/ plugins/versionpress/admin/public/gui",
    "_copy-vp-to-tmp-build-dir": "mkdir -p dist/tmp && cp -rn plugins/versionpress/. dist/tmp",
    "_prod-composer-install": "composer install -d dist/tmp --no-dev --prefer-dist --ignore-platform-reqs --optimize-autoloader",
    "_update-vp-version": "git describe --tags",
    "_zip-release": "",
    "start": "docker-compose up -d wordpress",
    "stop": "docker-compose stop",
    "stop-and-cleanup": "docker-compose down -v && rm -rf ./dev-env/wp && rm -rf ./dev-env/test-logs",
    "tests:unit": "docker-compose run --rm tests ../vendor/bin/phpunit -c phpunit.xml --testsuite Unit",
    "tests:full": "docker-compose run --rm tests-with-wordpress",
    "build-images": "npm-run-all -p _build-image-*",
    "_build-image-wp": "docker build --pull -t versionpress/wordpress:php7.2-apache dev-env/wordpress-image",
    "_build-image-cli": "docker build --pull -t versionpress/wordpress:cli dev-env/wordpress-cli-image",
    "push-images": "npm-run-all -p _push-image-*",
    "_push-image-wp": "docker push versionpress/wordpress:php7.2-apache",
    "_push-image-cli": "docker push versionpress/wordpress:cli",
    "xxx-postinstall": "npm run init-dev && npm run init-frontend"
  },
  "engines": {
    "node": ">= 8.1",
    "npm": ">= 5"
  },
  "dependencies": {},
  "devDependencies": {
    "archiver": "~1.1.0",
    "chalk": "^1.1.1",
    "del": "^3.0.0",
    "gulp": "~3.9.0",
    "gulp-composer": "^0.4.0",
    "gulp-git": "^2.4.1",
    "gulp-help": "^1.6.1",
    "gulp-remove-lines": "^0.1.0",
    "gulp-rename": "~1.2.0",
    "gulp-replace": "^0.6.1",
    "gulp-shell": "^0.6.3",
    "gulp-zip": "^4.0.0",
    "merge-stream": "^1.0.0",
    "run-sequence": "^1.1.5",
    "shelljs": "^0.7.8",
    "through2": "~2.0.1",
    "yamljs": "^0.2.6"
  }
}
